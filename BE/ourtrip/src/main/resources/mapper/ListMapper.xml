<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="edu.ssafy.ourtrip.list.dao.ListMapper">

	<resultMap type="listDto" id="listDto">
		<result column="list_no" property="listNo"/>
		<result column="list_name" property="listName"/>
		<result column="list_img" property="listImg"/>
		<result column="list_open" property="listOpen"/>
		<result column="user_id" property="userId"/>
	</resultMap>
	
	<select id="myList" parameterType="string" resultMap="listDto">
		select list_no, list_name, list_img, list_open, user_id
		from list
		where user_id = #{userId}
	</select>
	
	<select id="shareList" parameterType="string" resultMap="listDto">
		select l.list_no, l.list_name, l.list_img, l.list_open, l.user_id
		from list as l, share as s
		where s.user_id = #{userId} and s.list_no = l.list_no
	</select>
	
	<select id="openList" resultMap="listDto">
		select list_no, list_name, list_img, list_open, user_id
		from list
		where list_open = true
	</select>
	
</mapper>